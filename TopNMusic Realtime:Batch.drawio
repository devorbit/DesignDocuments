<mxfile host="Electron" modified="2023-08-12T04:42:59.427Z" agent="Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/21.5.0 Chrome/112.0.5615.204 Electron/24.5.1 Safari/537.36" etag="7daRy0CNpOuYSpT_GVHY" version="21.5.0" type="device">
  <diagram name="Page-1" id="PoIH5buspjo6yWR7fu3C">
    <mxGraphModel dx="906" dy="686" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="3300" pageHeight="2339" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="QPBvCS7KwNeQTiuuuzaN-28" value="" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#6666FF;fontColor=#000099;" vertex="1" parent="1">
          <mxGeometry x="920" y="50" width="550" height="210" as="geometry" />
        </mxCell>
        <mxCell id="QPBvCS7KwNeQTiuuuzaN-8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.533;entryDx=0;entryDy=0;entryPerimeter=0;strokeColor=#6666FF;fontColor=#000099;" edge="1" parent="1" source="QPBvCS7KwNeQTiuuuzaN-1" target="QPBvCS7KwNeQTiuuuzaN-4">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="QPBvCS7KwNeQTiuuuzaN-1" value="" style="shape=mxgraph.cisco.modems_and_phones.softphone;html=1;pointerEvents=1;dashed=0;fillColor=#036897;strokeColor=#ffffff;strokeWidth=2;verticalLabelPosition=bottom;verticalAlign=top;align=center;outlineConnect=0;fontColor=#000099;" vertex="1" parent="1">
          <mxGeometry x="130" y="204" width="61" height="56" as="geometry" />
        </mxCell>
        <mxCell id="QPBvCS7KwNeQTiuuuzaN-2" value="Spotify/AmazonMusic" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontColor=#000099;" vertex="1" parent="1">
          <mxGeometry x="90.5" y="268" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="QPBvCS7KwNeQTiuuuzaN-12" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=-0.026;entryY=0.474;entryDx=0;entryDy=0;entryPerimeter=0;strokeColor=#6666FF;dashed=1;elbow=vertical;curved=1;fontColor=#000099;" edge="1" parent="1" source="QPBvCS7KwNeQTiuuuzaN-4" target="QPBvCS7KwNeQTiuuuzaN-10">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="QPBvCS7KwNeQTiuuuzaN-4" value="" style="sketch=0;html=1;dashed=0;whitespace=wrap;fillColor=#2875E2;strokeColor=#ffffff;points=[[0.005,0.63,0],[0.1,0.2,0],[0.9,0.2,0],[0.5,0,0],[0.995,0.63,0],[0.72,0.99,0],[0.5,1,0],[0.28,0.99,0]];verticalLabelPosition=bottom;align=center;verticalAlign=top;shape=mxgraph.kubernetes.icon;prIcon=api;fontColor=#000099;" vertex="1" parent="1">
          <mxGeometry x="340" y="200" width="60" height="60" as="geometry" />
        </mxCell>
        <mxCell id="QPBvCS7KwNeQTiuuuzaN-7" value="EventCollection" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontColor=#000099;" vertex="1" parent="1">
          <mxGeometry x="315" y="268" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="QPBvCS7KwNeQTiuuuzaN-9" value="Play/Pause/Stop/Next" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;dashed=1;fontColor=#000099;" vertex="1" parent="1">
          <mxGeometry x="191" y="204" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="QPBvCS7KwNeQTiuuuzaN-33" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#6666FF;dashed=1;elbow=vertical;curved=1;fontColor=#000099;" edge="1" parent="1" source="QPBvCS7KwNeQTiuuuzaN-10" target="QPBvCS7KwNeQTiuuuzaN-32">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="QPBvCS7KwNeQTiuuuzaN-10" value="" style="sketch=0;outlineConnect=0;fontColor=#000099;gradientColor=none;fillColor=#2E27AD;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.dynamodb_stream;" vertex="1" parent="1">
          <mxGeometry x="540" y="193" width="78" height="78" as="geometry" />
        </mxCell>
        <mxCell id="QPBvCS7KwNeQTiuuuzaN-16" value="" style="html=1;verticalLabelPosition=bottom;align=center;labelBackgroundColor=#ffffff;verticalAlign=top;strokeWidth=2;strokeColor=#0080F0;shadow=0;dashed=0;shape=mxgraph.ios7.icons.note;pointerEvents=1;fontColor=#000099;" vertex="1" parent="1">
          <mxGeometry x="110" y="215.15" width="29.7" height="29.7" as="geometry" />
        </mxCell>
        <mxCell id="QPBvCS7KwNeQTiuuuzaN-21" value="Events are sent as generated. When user goes offline, events are buffered and sent at once when user comes online." style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;fontColor=#000099;" vertex="1" parent="1">
          <mxGeometry x="76" y="298" width="169" height="100" as="geometry" />
        </mxCell>
        <mxCell id="QPBvCS7KwNeQTiuuuzaN-23" value="Latency(P99) - 500ms&lt;br&gt;QPS - 1 million/sec&lt;br&gt;Availability - 99.99%&lt;br&gt;Auto-scaling - Enabled" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;strokeColor=#6666FF;fontColor=#000099;" vertex="1" parent="1">
          <mxGeometry x="300" y="110" width="169" height="70" as="geometry" />
        </mxCell>
        <mxCell id="QPBvCS7KwNeQTiuuuzaN-26" value="Streaming Platform(Kafka/Pulsar)" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontColor=#000099;" vertex="1" parent="1">
          <mxGeometry x="490" y="278" width="200" height="30" as="geometry" />
        </mxCell>
        <mxCell id="QPBvCS7KwNeQTiuuuzaN-27" value="Throughput/Volume - 25 GB /Sec&amp;nbsp;&lt;br&gt;Replication Factor - 3&lt;br&gt;Retention - 3 days&lt;br&gt;Number of partitions - 100&lt;br&gt;Size per partition - 256 mb" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;strokeColor=#6666FF;fontColor=#000099;" vertex="1" parent="1">
          <mxGeometry x="462.75" y="313" width="254.5" height="70" as="geometry" />
        </mxCell>
        <mxCell id="QPBvCS7KwNeQTiuuuzaN-29" value="" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#228B22;fontColor=#000099;" vertex="1" parent="1">
          <mxGeometry x="920" y="363" width="660" height="200" as="geometry" />
        </mxCell>
        <mxCell id="QPBvCS7KwNeQTiuuuzaN-30" value="Realtime" style="text;html=1;strokeColor=#6666FF;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#000099;" vertex="1" parent="1">
          <mxGeometry x="1120" y="10" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="QPBvCS7KwNeQTiuuuzaN-31" value="Batch" style="text;html=1;strokeColor=#228B22;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#000099;" vertex="1" parent="1">
          <mxGeometry x="1110" y="330" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="QPBvCS7KwNeQTiuuuzaN-38" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;strokeColor=#6666FF;elbow=vertical;curved=1;fontColor=#000099;" edge="1" parent="1" source="QPBvCS7KwNeQTiuuuzaN-32" target="QPBvCS7KwNeQTiuuuzaN-37">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="QPBvCS7KwNeQTiuuuzaN-32" value="Streaming Engine&lt;br&gt;Spark/Flink/Beam" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#6666FF;fontColor=#000099;" vertex="1" parent="1">
          <mxGeometry x="960" y="115" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="QPBvCS7KwNeQTiuuuzaN-47" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#6666FF;elbow=vertical;curved=1;fontColor=#000099;" edge="1" parent="1" source="QPBvCS7KwNeQTiuuuzaN-34">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1580" y="140" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="QPBvCS7KwNeQTiuuuzaN-34" value="TSDB" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;strokeColor=#6666FF;fontColor=#000099;" vertex="1" parent="1">
          <mxGeometry x="1370" y="100" width="60" height="80" as="geometry" />
        </mxCell>
        <mxCell id="QPBvCS7KwNeQTiuuuzaN-36" value="Druid/Pinot/BigTable" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#000099;" vertex="1" parent="1">
          <mxGeometry x="1370" y="180" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="QPBvCS7KwNeQTiuuuzaN-42" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#6666FF;elbow=vertical;curved=1;fontColor=#000099;" edge="1" parent="1" source="QPBvCS7KwNeQTiuuuzaN-37" target="QPBvCS7KwNeQTiuuuzaN-34">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="QPBvCS7KwNeQTiuuuzaN-37" value="Key-Value/Cache" style="shape=tape;whiteSpace=wrap;html=1;strokeColor=#6666FF;fontColor=#000099;" vertex="1" parent="1">
          <mxGeometry x="1180" y="105" width="90" height="80" as="geometry" />
        </mxCell>
        <mxCell id="QPBvCS7KwNeQTiuuuzaN-43" value="5min Window&lt;br&gt;aggregated songs count" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#000099;" vertex="1" parent="1">
          <mxGeometry x="1100" y="155" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="QPBvCS7KwNeQTiuuuzaN-46" value="Partitions - Hourly, Daily, Monthly, Yearly&lt;br&gt;Dimension - Song Name, Genre, Producer&lt;br&gt;Metrics - Songs Count" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;strokeColor=#6666FF;fontColor=#000099;" vertex="1" parent="1">
          <mxGeometry x="1272.75" y="20" width="254.5" height="70" as="geometry" />
        </mxCell>
        <mxCell id="QPBvCS7KwNeQTiuuuzaN-48" value="Realtime OLAP&lt;br&gt;TopN or GroupBy Aggregation" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontColor=#000099;" vertex="1" parent="1">
          <mxGeometry x="1550" y="125" width="180" height="40" as="geometry" />
        </mxCell>
        <mxCell id="QPBvCS7KwNeQTiuuuzaN-49" value="TTL/Retention Set for effeciancy" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#000099;" vertex="1" parent="1">
          <mxGeometry x="1195" y="193" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="QPBvCS7KwNeQTiuuuzaN-50" value="Latency added - 5 secs" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontColor=#000099;" vertex="1" parent="1">
          <mxGeometry x="504" y="150" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="QPBvCS7KwNeQTiuuuzaN-51" value="Latency added 2 mins" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#000099;" vertex="1" parent="1">
          <mxGeometry x="955" y="80" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="QPBvCS7KwNeQTiuuuzaN-52" value="Latency added 5 secs" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#000099;" vertex="1" parent="1">
          <mxGeometry x="1160" y="80" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="QPBvCS7KwNeQTiuuuzaN-53" value="Latency added 5 secs" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#000099;" vertex="1" parent="1">
          <mxGeometry x="1330" y="210" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="QPBvCS7KwNeQTiuuuzaN-55" value="Query Response Time &amp;lt; 5 secs" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#000099;" vertex="1" parent="1">
          <mxGeometry x="1570" y="70" width="180" height="30" as="geometry" />
        </mxCell>
        <mxCell id="QPBvCS7KwNeQTiuuuzaN-56" value="Data Fresheness &amp;lt; 10 mins" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#000099;" vertex="1" parent="1">
          <mxGeometry x="1580" y="95" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="QPBvCS7KwNeQTiuuuzaN-70" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#228B22;elbow=vertical;curved=1;fontColor=#000099;" edge="1" parent="1" target="QPBvCS7KwNeQTiuuuzaN-69">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1239.77" y="440" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="QPBvCS7KwNeQTiuuuzaN-66" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#228B22;elbow=vertical;curved=1;fontColor=#000099;" edge="1" parent="1" source="QPBvCS7KwNeQTiuuuzaN-61">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1170" y="440" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="QPBvCS7KwNeQTiuuuzaN-61" value="Streaming Engine&lt;br&gt;Spark/Flink/Beam" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#228B22;fontColor=#000099;" vertex="1" parent="1">
          <mxGeometry x="940" y="410" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="QPBvCS7KwNeQTiuuuzaN-64" value="Data Lake" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#000099;" vertex="1" parent="1">
          <mxGeometry x="1170" y="470" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="QPBvCS7KwNeQTiuuuzaN-63" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#6666FF;dashed=1;elbow=vertical;curved=1;fontColor=#000099;" edge="1" parent="1" source="QPBvCS7KwNeQTiuuuzaN-10" target="QPBvCS7KwNeQTiuuuzaN-61">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="QPBvCS7KwNeQTiuuuzaN-67" value="Fixed Interval" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#000099;" vertex="1" parent="1">
          <mxGeometry x="1085" y="440" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="QPBvCS7KwNeQTiuuuzaN-68" value="Partitioned - Hourly, Daily, Monthly, Yearly" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;strokeColor=#228B22;fontColor=#000099;" vertex="1" parent="1">
          <mxGeometry x="1060" y="510" width="400" height="40" as="geometry" />
        </mxCell>
        <mxCell id="QPBvCS7KwNeQTiuuuzaN-75" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;strokeColor=#228B22;elbow=vertical;curved=1;fontColor=#000099;" edge="1" parent="1" source="QPBvCS7KwNeQTiuuuzaN-69" target="QPBvCS7KwNeQTiuuuzaN-73">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="QPBvCS7KwNeQTiuuuzaN-69" value="DataWarehouse" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;strokeColor=#228B22;fontColor=#000099;" vertex="1" parent="1">
          <mxGeometry x="1380" y="400" width="90" height="80" as="geometry" />
        </mxCell>
        <mxCell id="QPBvCS7KwNeQTiuuuzaN-71" value="External Table - Parquet" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#000099;" vertex="1" parent="1">
          <mxGeometry x="1272.75" y="448" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="QPBvCS7KwNeQTiuuuzaN-72" value="Batch Query -&amp;nbsp;&lt;br&gt;Creates aggregation of songs to number of plays at the daily level and stores in the daily partition." style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;strokeColor=#228B22;fontColor=#000099;" vertex="1" parent="1">
          <mxGeometry x="1290" y="298" width="250" height="90" as="geometry" />
        </mxCell>
        <mxCell id="QPBvCS7KwNeQTiuuuzaN-73" value="OLTP/key-value" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;strokeColor=#228B22;fontColor=#000099;" vertex="1" parent="1">
          <mxGeometry x="1680" y="398" width="60" height="80" as="geometry" />
        </mxCell>
        <mxCell id="QPBvCS7KwNeQTiuuuzaN-76" value="" style="image;sketch=0;aspect=fixed;html=1;points=[];align=center;fontSize=12;image=img/lib/mscae/Data_Lake_Store.svg;fontColor=#000099;" vertex="1" parent="1">
          <mxGeometry x="1170" y="410.7" width="70" height="54.6" as="geometry" />
        </mxCell>
        <mxCell id="QPBvCS7KwNeQTiuuuzaN-77" value="Scheduled query to aggregate counts at the weekly, monthly and yearly counts incrementally for every passing day and update it into OLTP or Key-Value Store" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;strokeColor=#228B22;fontColor=#000099;" vertex="1" parent="1">
          <mxGeometry x="1460" y="470" width="250" height="130" as="geometry" />
        </mxCell>
        <mxCell id="QPBvCS7KwNeQTiuuuzaN-78" value="Data Freshness - 1 Day" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontColor=#000099;" vertex="1" parent="1">
          <mxGeometry x="1760" y="423" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="QPBvCS7KwNeQTiuuuzaN-79" value="Accuracy - 100%" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontColor=#000099;" vertex="1" parent="1">
          <mxGeometry x="1780" y="448" width="110" height="30" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
